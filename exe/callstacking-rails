#!/usr/bin/env ruby

require "bundler/setup"
require "callstacking/rails/setup"
require "callstacking/rails/settings"

settings = Callstacking::Rails::Settings.new
action = Callstacking::Rails::Cli.action(ARGV)

if action.nil?
  Callstacking::Rails::Setup.instructions
  exit!(1)
end

cli = Callstacking::Rails::Cli.new(action, settings)
cli.run